<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link href='https://fonts.googleapis.com/css?family=Cabin' rel='stylesheet'>
  </head>
  <body>
    <font style="font-family: 'Cabin';">
      <center>
    	<h1>Fun with Math.random()!</h1>
      <br>
      <br>
      <br>
      <p id="score">Score: 0</p>
      <p id="range"></p>
      <br>
      <div id="promptBox"></div>
      <br>
      <button id="submit">Go!</button>
      </center>
      <div id="hearts">
        <img id="heart1" src="heart.png">
        <img id="heart2" src="heart.png">
        <img id="heart3" src="heart.png">
      </div>
    </font>
    <style>
      #hearts img{
        width:20px;
      }
      #promptBox{
        display:flex;
        height:fit-content;
        width:fit-content;
        flex-direction: row;
        justify-content:space-between;
      }
      #hearts{
        position:absolute;
        top:0;
        left:0;
        display:flex;
        height:fit-content;
        width:fit-content;
        flex-direction: column;
      }
      #score{
        position:relative;
        font-size:20px;
      }
      #submit{
        background-image:linear-gradient(to bottom right, #79eefe,#293bc6);
        font-size:18px;
        border:2px solid black;
      }
      #submit:hover{
        background-image:linear-gradient(to bottom right, #54c3d1,#12208f);
      }
    </style>
    <script>
      const gebi = function(e){return document.getElementById(e)};
      //either: Math.floor(Math.random()*__)+__  Math.floor(Math.random()*__+__) OR (int) at beginning
      var showPrompt = function(prompt){
        var msgOne = document.createElement("p");
        var msgTwo = document.createElement("p");
        var msgThree = document.createElement("p");
        var inputOne = document.createElement("input");
        var inputTwo = document.createElement("input");
        inputOne.type="text";
        inputTwo.type="text";
        inputOne.style.fontSize="20px";
        inputTwo.style.fontSize="20px";
        inputOne.style.width="30px";
        inputTwo.style.width="30px";
        inputOne.style.height="30px";
        inputTwo.style.height="30px";
        inputOne.style.border="2px solid black";
        inputTwo.style.border="2px solid black";
        inputOne.id="inputOne";
        inputTwo.id="inputTwo";
        if(prompt===0){
          msgOne.innerHTML="Math.floor(Math.random()* ";
          msgTwo.innerHTML=" ) + ";
          msgThree.innerHTML=";";
        }else if(prompt===1){
          msgOne.innerHTML="Math.floor(Math.random()* ";
          msgTwo.innerHTML=" + ";
          msgThree.innerHTML=" );";
        }else if(prompt===2){
          msgOne.innerHTML="(int)(Math.random()* ";
          msgTwo.innerHTML=" ) + ";
          msgThree.innerHTML=";";
        }else{
          msgOne.innerHTML="(int)(Math.random()* ";
          msgTwo.innerHTML=" + ";
          msgThree.innerHTML=" );";
        }
        gebi("promptBox").appendChild(msgOne);
        gebi("promptBox").appendChild(inputOne);
        gebi("promptBox").appendChild(msgTwo);
        gebi("promptBox").appendChild(inputTwo);
        gebi("promptBox").appendChild(msgThree);
      }
      var tries = 0;
      var decreaseLife = function(heart){
        setTimeout(function () { gebi("heart"+heart).style.display="none"
        setTimeout(function () { gebi("heart"+heart).style.display=""
        setTimeout(function () { gebi("heart"+heart).style.display="none"
        setTimeout(function () { gebi("heart"+heart).style.display=""
        setTimeout(function () { gebi("heart"+heart).style.display="none"
        setTimeout(function () { gebi("heart"+heart).style.display=""
        setTimeout(function () { gebi("heart"+heart).style.display="none"
        setTimeout(function () { gebi("heart"+heart).style.display=""
        setTimeout(function () { gebi("heart"+heart).style.display="none" }, 55)}, 182)}, 55)}, 55)}, 55)}, 55)}, 55)}, 55)}, 55)
        tries++;
      }
      var resetLife = function(){
        gebi("heart1").style.display="";
        gebi("heart2").style.display="";
        gebi("heart3").style.display="";
        tries=0;
      }
      var start = 0;
      var nums = 0;
      var score = 0;
      var advancePrompt = function(){
        gebi("promptBox").innerHTML="";
        //a and b represent the answers to the first and second prompt box that the user needs to type in; ie the upper and lower limit
        start = Math.floor(Math.random()*51);
        nums = Math.floor(Math.random()*30)+2;
        var rnd = Math.floor(Math.random()*4);
        gebi("range").innerHTML="Generate random numbers starting from "+(start)+" to "+(start+nums-1);
        showPrompt(rnd);
      }
      advancePrompt();
      gebi("submit").addEventListener("click",function(){
        if (gebi("inputOne").value==nums && gebi("inputTwo").value==start){
          //nice job
          alert("AMAZING JOB");
          score++;
          gebi("score").innerHTML=gebi("score").innerHTML.substring(0,7)+score;
          advancePrompt();
          resetLife();
        }else{
          if (tries>1){
            //done
            alert("answer: "+nums+" and "+start);
            score=0;
            advancePrompt();
            resetLife();
          }else{
            decreaseLife(3-tries);
          }
        }
      })
    </script>
  </body>
</html>
